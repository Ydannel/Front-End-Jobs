{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useContext, useEffect } from 'react';\nimport Layout from '../Components/Layout';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport Alerta from '../components/Alerta';\nimport { useRouter } from 'next/router';\nimport authContext from '../context/auth/authContext';\n\nconst Login = () => {\n  // definir el context\n  const AuthContext = useContext(authContext);\n  const {\n    mensaje,\n    autenticado,\n    iniciarSesion\n  } = AuthContext; // Next router\n\n  const router = useRouter();\n  useEffect(() => {\n    if (autenticado) {\n      router.push('/');\n    }\n  }, [autenticado]); // Formulario y validación con formik y Yup\n\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    validationSchema: Yup.object({\n      email: Yup.string().email('El email no es válido').required('El Email es Obligatorio'),\n      password: Yup.string().required('El password no puede ir vacio')\n    }),\n    onSubmit: valores => {\n      iniciarSesion(valores);\n    }\n  });\n  return __jsx(Layout, null, __jsx(\"div\", {\n    className: \"text-center\"\n  }, mensaje && __jsx(Alerta, null), __jsx(\"h2\", {\n    className: \"headline\"\n  }, \"Inicia sesion\"), __jsx(\"form\", {\n    className: \"paper form-group\",\n    onSubmit: formik.handleSubmit\n  }, __jsx(\"input\", {\n    type: \"email\",\n    placeholder: \"Escribe tu correo\",\n    id: \"email\",\n    value: formik.values.email,\n    onChange: formik.handleChange,\n    onBlur: formik.handleBlur,\n    className: \"input-block\"\n  }), formik.touched.email && formik.errors.email ? __jsx(\"div\", {\n    className: \"alert alert-danger button-text\"\n  }, formik.errors.pass, \" \") : null, __jsx(\"input\", {\n    type: \"password\",\n    placeholder: \"Escribe tu clave\",\n    id: \"password\",\n    value: formik.values.password,\n    onChange: formik.handleChange,\n    onBlur: formik.handleBlur,\n    className: \"input-block\"\n  }), formik.touched.password && formik.errors.password ? __jsx(\"div\", {\n    className: \"alert alert-danger button-text\"\n  }, formik.errors.password, \" \") : null, __jsx(\"button\", {\n    type: \"submit\",\n    className: \"second-button second-button-text btn-block\"\n  }, \" Iniciar sesion\"))));\n};\n\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}